{
    "id": "7ca9e00c3f58386e",
    "label": "12312413413413413",
    "disabled": false,
    "info": "",
    "env": [],
    "nodes": [
        {
            "id": "x55s0ameile3yezb",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "define credentials",
            "func": "let clientId = env.get('AOP_API_CLIENT_ID');\nlet clientSecret = env.get('AOP_API_CLIENT_SECRET');\nlet scope = env.get('AOP_API_SCOPE');\n\nif (clientId && clientId !== \"\" && clientSecret && clientSecret !== \"\" && scope && scope !== \"\") {\n    msg.payload =\n        \"client_id=\" + encodeURIComponent(clientId) +\n        \"&client_secret=\" + encodeURIComponent(clientSecret) +\n        \"&grant_type=client_credentials\" +\n        \"&scope=\" + encodeURIComponent(scope);\n\n    msg.headers = {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n    };\n\n    return msg;\n}\n\nnode.done();",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 330,
            "y": 320,
            "wires": [
                [
                    "oafcyoesul05sc9x"
                ]
            ]
        },
        {
            "id": "oafcyoesul05sc9x",
            "type": "http request",
            "z": "7ca9e00c3f58386e",
            "name": "Aquire Authorization Token",
            "method": "POST",
            "ret": "obj",
            "paytoqs": "body",
            "url": "https://login.microsoftonline.com/49181cc3-a08b-493e-8606-9eebd7ae9f10/oauth2/v2.0/token",
            "tls": "",
            "persist": false,
            "proxy": "",
            "insecureHTTPParser": false,
            "authType": "",
            "senderr": false,
            "headers": [
                {
                    "keyType": "other",
                    "keyValue": "Content-Type",
                    "valueType": "other",
                    "valueValue": "application/x-www-form-urlencoded"
                }
            ],
            "x": 560,
            "y": 320,
            "wires": [
                [
                    "ofpkqzrteun30pc0"
                ]
            ]
        },
        {
            "id": "sp41jtdnx88e9ha8",
            "type": "inject",
            "z": "7ca9e00c3f58386e",
            "name": "AOP API interval",
            "props": [
                {
                    "p": "payload"
                }
            ],
            "repeat": "120",
            "crontab": "",
            "once": true,
            "onceDelay": "30",
            "topic": "",
            "payload": "",
            "payloadType": "date",
            "x": 130,
            "y": 320,
            "wires": [
                [
                    "x55s0ameile3yezb"
                ]
            ]
        },
        {
            "id": "ofpkqzrteun30pc0",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "define_query_params",
            "func": "const to_ts = new Date();\nconst from_ts = new Date();\n\nto_ts.setMinutes(to_ts.getMinutes() + 200);\n\nmsg.gate_area = 'A81-A86'\nmsg.obs_from = from_ts.toJSON()\nmsg.obs_to = to_ts.toJSON()\n\nmsg.headers = {\n        'Authorization': 'Bearer ' + msg.payload.access_token\n}\n\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 820,
            "y": 320,
            "wires": [
                [
                    "iqfw9d3sp6k9khcj"
                ]
            ]
        },
        {
            "id": "iqfw9d3sp6k9khcj",
            "type": "http request",
            "z": "7ca9e00c3f58386e",
            "name": "Request Gate Demand Data",
            "method": "GET",
            "ret": "obj",
            "paytoqs": "ignore",
            "url": "https://api.int.zurich-airport.com/airport_operations_plan/v2/passenger-demand/gate-areas/{{{gate_area}}}?observation_time_window_from={{{obs_from}}}&observation_time_window_to={{{obs_to}}}",
            "tls": "",
            "persist": false,
            "proxy": "",
            "insecureHTTPParser": false,
            "authType": "",
            "senderr": false,
            "headers": [],
            "x": 1080,
            "y": 320,
            "wires": [
                [
                    "lyjxp42b8bby6l8u"
                ]
            ]
        },
        {
            "id": "lyjxp42b8bby6l8u",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Create AOP PAX Data Array for Modbus Communication",
            "func": "// Definiere die Größe des Arrays (n kann z. B. aus msg.n kommen oder festgelegt sein)\nvar n = msg.n || 10;  // Falls msg.n nicht gesetzt ist, wird n=5 als Standardwert genommen\n\n// Initialisiere das Array mit Standardwerten (z. B. 0 oder eine Sequenz)\nvar dataArray = new Array(n).fill(0);  // Füllt das Array mit n Elementen, alle auf 0 gesetzt\n\n// Falls du das Array mit einer Sequenz befüllen möchtest, kannst du dies tun:\nfor (let i = 0; i < n; i++) {\n    dataArray[i] = msg.payload.data[i].estimated_passenger_count;  // Erzeugt ein Array [mit den Passagierdaten]\n}\n\n// Setze das Array als msg.payload\nmsg.payload = dataArray;\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 630,
            "y": 460,
            "wires": [
                [
                    "u604t9tczepfgnuj",
                    "9u3p20fqz2bwia2b",
                    "hc7ao88dpfirhe3b"
                ]
            ]
        },
        {
            "id": "u604t9tczepfgnuj",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "AOP Data",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1680,
            "y": 400,
            "wires": []
        },
        {
            "id": "9u3p20fqz2bwia2b",
            "type": "modbus-write",
            "z": "7ca9e00c3f58386e",
            "name": "AOP Data to Belimo",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "MHoldingRegisters",
            "adr": "11100",
            "quantity": "10",
            "server": "dms7enn3dp7rwtpa",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "",
            "x": 1160,
            "y": 460,
            "wires": [
                [],
                []
            ]
        },
        {
            "id": "3buondkw3fx17boq",
            "type": "comment",
            "z": "7ca9e00c3f58386e",
            "name": "AOP-> Belimo",
            "info": "",
            "x": 70,
            "y": 280,
            "wires": []
        },
        {
            "id": "gn5x9btiu358148m",
            "type": "modbus-read",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff Sensor Data",
            "topic": "Read Sensor Data from Beckhoff",
            "showStatusActivities": false,
            "logIOActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "InputRegister",
            "adr": "32768",
            "quantity": "100",
            "rate": "1",
            "rateUnit": "s",
            "delayOnStart": false,
            "startDelayTime": "",
            "server": "ax8al96z8cizgl4x",
            "useIOFile": false,
            "ioFile": "",
            "useIOForPayload": false,
            "emptyMsgOnFail": false,
            "x": 180,
            "y": 1080,
            "wires": [
                [
                    "pjobk68ky66kvzdm",
                    "6fb9pu5ebnw3069v",
                    "lcalqo8931hpimgb"
                ],
                []
            ]
        },
        {
            "id": "6fb9pu5ebnw3069v",
            "type": "modbus-write",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo Sensor Data",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "MHoldingRegisters",
            "adr": "0",
            "quantity": "100",
            "server": "dms7enn3dp7rwtpa",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "",
            "x": 1160,
            "y": 1120,
            "wires": [
                [],
                []
            ]
        },
        {
            "id": "pjobk68ky66kvzdm",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff Sensor Data",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1720,
            "y": 1080,
            "wires": []
        },
        {
            "id": "53lol9okbmzi6neq",
            "type": "comment",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff -> Belimo",
            "info": "",
            "x": 130,
            "y": 1020,
            "wires": []
        },
        {
            "id": "vxt4mfm6zjg6y1hn",
            "type": "modbus-read",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo Setpoints",
            "topic": "Read Setpoints from Belimo",
            "showStatusActivities": false,
            "logIOActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "InputRegister",
            "adr": "1000",
            "quantity": "5",
            "rate": "1",
            "rateUnit": "s",
            "delayOnStart": false,
            "startDelayTime": "",
            "server": "dms7enn3dp7rwtpa",
            "useIOFile": false,
            "ioFile": "",
            "useIOForPayload": false,
            "emptyMsgOnFail": false,
            "x": 160,
            "y": 1320,
            "wires": [
                [
                    "u1c9jf2jd2v11i7l",
                    "jj3trbvv79213kw4",
                    "109klqic5914aado"
                ],
                []
            ]
        },
        {
            "id": "jj3trbvv79213kw4",
            "type": "modbus-write",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff setpoints",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "MHoldingRegisters",
            "adr": "32768",
            "quantity": "5",
            "server": "ax8al96z8cizgl4x",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "12",
            "x": 1150,
            "y": 1360,
            "wires": [
                [],
                []
            ]
        },
        {
            "id": "u1c9jf2jd2v11i7l",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo Setpoints",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1710,
            "y": 1320,
            "wires": []
        },
        {
            "id": "3svuqohd4i9thpj1",
            "type": "modbus-read",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo Setpoints",
            "topic": "Read Setpoints from Belimo",
            "showStatusActivities": false,
            "logIOActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "InputRegister",
            "adr": "1040",
            "quantity": "8",
            "rate": "1",
            "rateUnit": "s",
            "delayOnStart": false,
            "startDelayTime": "",
            "server": "dms7enn3dp7rwtpa",
            "useIOFile": false,
            "ioFile": "",
            "useIOForPayload": false,
            "emptyMsgOnFail": false,
            "x": 160,
            "y": 1540,
            "wires": [
                [
                    "wqnoa7o7frvs8t62",
                    "bmcwe2u9gsiw1dwy"
                ],
                []
            ]
        },
        {
            "id": "bmcwe2u9gsiw1dwy",
            "type": "modbus-write",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff setpoints",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "MHoldingRegisters",
            "adr": "32808",
            "quantity": "8",
            "server": "ax8al96z8cizgl4x",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "12",
            "x": 1150,
            "y": 1600,
            "wires": [
                [],
                []
            ]
        },
        {
            "id": "wqnoa7o7frvs8t62",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo Setpoints",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1710,
            "y": 1560,
            "wires": []
        },
        {
            "id": "5wpg08q9yk39mo7n",
            "type": "comment",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo -> Beckhoff ",
            "info": "",
            "x": 130,
            "y": 1260,
            "wires": []
        },
        {
            "id": "7p73xionmnaeo1cs",
            "type": "inject",
            "z": "7ca9e00c3f58386e",
            "name": "Startup",
            "props": [
                {
                    "p": "payload"
                }
            ],
            "repeat": "",
            "crontab": "",
            "once": true,
            "onceDelay": "0.1",
            "topic": "",
            "payload": "",
            "payloadType": "date",
            "x": 120,
            "y": 60,
            "wires": [
                [
                    "4ok3pmqqogjf2ql6",
                    "oj419vw5blr0r3di"
                ]
            ]
        },
        {
            "id": "4ok3pmqqogjf2ql6",
            "type": "getflows",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "x": 280,
            "y": 60,
            "wires": [
                [
                    "h3hr8jekju3a0dpt"
                ]
            ]
        },
        {
            "id": "h3hr8jekju3a0dpt",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Init",
            "func": "var bridge = global.get(\"cloud.bridges\").find(bridge => {\n    return bridge.id === msg.payload.find(flow => flow.id === msg.thisflow).label;\n})\nbridge.image.metrics = {};\n\nflow.set(\"bridge\", bridge);\n\nreturn msg;",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 410,
            "y": 60,
            "wires": [
                [
                    "9qicmldgtx7o4dww"
                ]
            ]
        },
        {
            "id": "9qicmldgtx7o4dww",
            "type": "switch",
            "z": "7ca9e00c3f58386e",
            "name": "Config correct",
            "property": "bridge.image.controller",
            "propertyType": "flow",
            "rules": [
                {
                    "t": "istype",
                    "v": "object",
                    "vt": "object"
                }
            ],
            "checkall": "true",
            "repair": false,
            "outputs": 1,
            "x": 560,
            "y": 60,
            "wires": [
                [
                    "o4gsozpxu5avbh44"
                ]
            ]
        },
        {
            "id": "o4gsozpxu5avbh44",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set channel parameters",
            "func": "const controllerParameter = flow.get(\"bridge.image.controller\");\nconst protocols = flow.get(\"bridge.image.protocols\");\nvar channel = global.get(\"hardware.interface.serial.channels\").concat(global.get(\"hardware.interface.tcp.channels\")).find(channel => channel.id === controllerParameter.channel);\n\nif (channel && controllerParameter && protocols) {\n    if (channel.connectorType == \"TCP\") {\n        msg.payload = {\n            \"connectorType\": controllerParameter.connectorType ? controllerParameter.connectorType : channel.connectorType,\n            \"tcpHost\": controllerParameter.tcpHost,\n            \"tcpPort\": controllerParameter.tcpPort,\n            \"tcpType\": controllerParameter.tcpType ? controllerParameter.tcpType : \"DEFAULT\",\n            \"unitId\": controllerParameter.unitId ? controllerParameter.unitId : 1,\n            \"commandDelay\": controllerParameter.commandDelay ? controllerParameter.commandDelay : 5,\n            \"clientTimeout\": controllerParameter.clientTimeout ? controllerParameter.clientTimeout : 1000,\n            \"reconnectTimeout\": controllerParameter.reconnectTimeout ? controllerParameter.reconnectTimeout : 2000\n        };\n    } else {\n        msg.payload = {\n            \"connectorType\": controllerParameter.connectorType ? controllerParameter.connectorType : channel.connectorType,\n            \"serialPort\": controllerParameter.serialPort ? controllerParameter.serialPort : channel.serialPort,\n            \"serialBaudrate\": controllerParameter.serialBaudrate ? controllerParameter.serialBaudrate : 19200,\n            \"serialDatabits\": controllerParameter.serialDatabits ? controllerParameter.serialDatabits : 8,\n            \"serialStopbits\": controllerParameter.serialStopbits ? controllerParameter.serialStopbits : 1,\n            \"serialParity\": controllerParameter.serialParity ? controllerParameter.serialParity : \"none\",\n            \"serialType\": controllerParameter.serialType ? controllerParameter.serialType : \"RTU-BUFFERD\",\n            \"serialConnectionDelay\": controllerParameter.serialConnectionDelay ? controllerParameter.serialConnectionDelay : 100,\n            \"unitId\": controllerParameter.unitId ? controllerParameter.unitId : 1,\n            \"commandDelay\": controllerParameter.commandDelay ? controllerParameter.commandDelay : 5,\n            \"clientTimeout\": controllerParameter.clientTimeout ? controllerParameter.clientTimeout : 1000,\n            \"reconnectTimeout\": controllerParameter.reconnectTimeout ? controllerParameter.reconnectTimeout : 2000\n        };\n    }\n    node.send(msg);\n} else {\n    node.warn(\"Invalid channel configuration!\");\n}\n\nnode.done()\n",
            "outputs": 1,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 790,
            "y": 60,
            "wires": [
                []
            ]
        },
        {
            "id": "kxa34bbnazm1ghmy",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set sensor value on bridge",
            "func": "var cloudBridge = global.get(\"cloud.bridges\").find(bridge => {\n    return bridge.id === flow.get(\"bridge\").id\n})\n\nfor (var propertyName in msg.payload) {\n    if (typeof msg.payload[propertyName] === \"number\") {\n        // Round to 2 decimal\n        msg.payload[propertyName] = Math.round((msg.payload[propertyName] + Number.EPSILON) * 100) / 100\n    }\n    flow.get(\"bridge\").image.metrics[propertyName] = msg.payload[propertyName];\n}\n\ncloudBridge.image.metrics = flow.get(\"bridge\").image.metrics;\n\nreturn msg;",
            "outputs": 1,
            "timeout": "",
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 780,
            "y": 140,
            "wires": [
                []
            ]
        },
        {
            "id": "yqap6ym1mngzzz9n",
            "type": "inject",
            "z": "7ca9e00c3f58386e",
            "name": "error interval",
            "props": [
                {
                    "p": "payload"
                },
                {
                    "p": "topic",
                    "vt": "str"
                }
            ],
            "repeat": "30",
            "crontab": "",
            "once": true,
            "onceDelay": "30",
            "topic": "",
            "payload": "",
            "payloadType": "date",
            "x": 120,
            "y": 220,
            "wires": [
                [
                    "jpppp8t9z0zd9ank",
                    "ktb9fdixuonud4c3"
                ]
            ]
        },
        {
            "id": "oj419vw5blr0r3di",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"SYSTEM-0\":0,\"COMMUNICATION_ERROR\":false,\"BECKHOFF_COMMUNICATION_ERROR\":false,\"BELIMO_COMMUNICATION_ERROR\":false,\"AOP_COMMUNICATION_ERROR\":false,\"MUV_API_COMMUNICATION_ERROR\":false}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 300,
            "y": 100,
            "wires": [
                [
                    "kxa34bbnazm1ghmy"
                ]
            ]
        },
        {
            "id": "109klqic5914aado",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"BELIMO_COMMUNICATION_ERROR\":false}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1160,
            "wires": [
                [
                    "11lxg6kgit8h7pgc",
                    "v763s065t8l4rtdw"
                ]
            ]
        },
        {
            "id": "lcalqo8931hpimgb",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"BECKHOFF_COMMUNICATION_ERROR\":false}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1400,
            "wires": [
                [
                    "11lxg6kgit8h7pgc",
                    "wi45k0z2ewdd8s74"
                ]
            ]
        },
        {
            "id": "jdukgcy1iptgliry",
            "type": "link in",
            "z": "7ca9e00c3f58386e",
            "name": "Write Values",
            "links": [
                "11lxg6kgit8h7pgc"
            ],
            "x": 365,
            "y": 140,
            "wires": [
                [
                    "kxa34bbnazm1ghmy"
                ]
            ]
        },
        {
            "id": "11lxg6kgit8h7pgc",
            "type": "link out",
            "z": "7ca9e00c3f58386e",
            "name": "link out 20",
            "mode": "link",
            "links": [
                "jdukgcy1iptgliry"
            ],
            "x": 1595,
            "y": 1220
        },
        {
            "id": "sco4ty2qqr0xazfc",
            "type": "catch",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "scope": [
                "6fb9pu5ebnw3069v",
                "vxt4mfm6zjg6y1hn",
                "3svuqohd4i9thpj1",
                "g1nns37i6t404ona",
                "zxks5lp5k76h5w0q",
                "9u3p20fqz2bwia2b"
            ],
            "uncaught": false,
            "x": 530,
            "y": 1240,
            "wires": [
                [
                    "kq4bwv9l60tj71q3"
                ]
            ]
        },
        {
            "id": "0490z645ns2tikc5",
            "type": "catch",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "scope": [
                "jj3trbvv79213kw4",
                "gn5x9btiu358148m"
            ],
            "uncaught": false,
            "x": 530,
            "y": 1480,
            "wires": [
                [
                    "17ayjydz4nlpu52u"
                ]
            ]
        },
        {
            "id": "ee3zesuxf61jqhll",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"BECKHOFF_COMMUNICATION_ERROR\":true}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1520,
            "wires": [
                [
                    "11lxg6kgit8h7pgc"
                ]
            ]
        },
        {
            "id": "zioyy5u4giqb6ete",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"BELIMO_COMMUNICATION_ERROR\":true}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1280,
            "wires": [
                [
                    "11lxg6kgit8h7pgc"
                ]
            ]
        },
        {
            "id": "hc7ao88dpfirhe3b",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"AOP_COMMUNICATION_ERROR\":false}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 540,
            "wires": [
                [
                    "11lxg6kgit8h7pgc",
                    "3mk39d0pils7p1mn"
                ]
            ]
        },
        {
            "id": "tk4fqw8nsggn46se",
            "type": "catch",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "scope": [
                "lyjxp42b8bby6l8u",
                "iqfw9d3sp6k9khcj",
                "ofpkqzrteun30pc0",
                "oafcyoesul05sc9x",
                "x55s0ameile3yezb"
            ],
            "uncaught": false,
            "x": 530,
            "y": 620,
            "wires": [
                [
                    "rt1tn2idh5sjiexs"
                ]
            ]
        },
        {
            "id": "eki66ulwnryut6l1",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"AOP_COMMUNICATION_ERROR\":true}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 660,
            "wires": [
                [
                    "11lxg6kgit8h7pgc"
                ]
            ]
        },
        {
            "id": "jpppp8t9z0zd9ank",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set error indicator",
            "func": "const filtered = Object.fromEntries(\n    Object.entries(flow.get(\"bridge\").image.metrics).filter(\n        ([key, value]) => key.includes(\"ERROR\") && value === true\n    )\n);\n\nif (Object.keys(filtered).length > 0) {\n    msg.payload = { \"SYSTEM-0\": 2 }\n} else {\n    msg.payload = { \"SYSTEM-0\": 0 }\n}\n\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 470,
            "y": 180,
            "wires": [
                [
                    "kxa34bbnazm1ghmy"
                ]
            ]
        },
        {
            "id": "jdrl6v3lr4l3i2vd",
            "type": "http request",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "method": "POST",
            "ret": "txt",
            "paytoqs": "ignore",
            "url": "https://api.muv.digital/v1/query/67ff4f0493299f82a9c194f3/aggregated",
            "tls": "",
            "persist": false,
            "proxy": "",
            "insecureHTTPParser": false,
            "authType": "",
            "senderr": false,
            "headers": [
                {
                    "keyType": "other",
                    "keyValue": "accept",
                    "valueType": "other",
                    "valueValue": "application/json"
                },
                {
                    "keyType": "other",
                    "keyValue": "x-api-key",
                    "valueType": "msg",
                    "valueValue": "apiKey"
                }
            ],
            "x": 590,
            "y": 920,
            "wires": [
                [
                    "ekb0yfnyqc5dc87e"
                ]
            ]
        },
        {
            "id": "4yuat9f5y3d2ionw",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Build query",
            "func": "const apiKey = env.get('MUV_API_TOKEN');\nconst to_ts = new Date();\nconst from_ts = new Date();\nto_ts.setMinutes(to_ts.getMinutes() + 1560);\nfrom_ts.setMinutes(to_ts.getMinutes() + 60);\n\nconst body = {\n  \"timestamp\": {\n    \"from\": from_ts,\n    \"to\": to_ts\n  },\n  \"metricId\": [\n    \"FORECAST_TEMPERATURE\",\n    \"FORECAST_HUMIDITY\",\n    \"FORECAST_UVINDEX\"\n  ],\n  \"aggregation\": {\n    \"method\": \"mean\",\n    \"interval\": \"1h\"\n  }\n}\n\nmsg.apiKey = apiKey;\nmsg.payload = body;\n\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 430,
            "y": 920,
            "wires": [
                [
                    "jdrl6v3lr4l3i2vd"
                ]
            ]
        },
        {
            "id": "ekb0yfnyqc5dc87e",
            "type": "json",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "property": "payload",
            "action": "",
            "pretty": false,
            "x": 730,
            "y": 920,
            "wires": [
                [
                    "ktfhpm897o10w18y"
                ]
            ]
        },
        {
            "id": "khv9a5ntd4oh5pec",
            "type": "comment",
            "z": "7ca9e00c3f58386e",
            "name": "Weather -> Belimo ",
            "info": "",
            "x": 130,
            "y": 880,
            "wires": []
        },
        {
            "id": "ktfhpm897o10w18y",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set Modbus data",
            "func": "msg.payload.results.forEach(metric => {\n    const data = metric.timeseries.map(object => { return object.value });\n    data.pop();\n    const metricId = metric.metricId;\n    if (metricId === \"FORECAST_TEMPERATURE\") {\n        const registerStart = 12100;\n        node.send({ \"payload\": { value: data.map(x => { return Math.round(x * 100) }), 'fc': 16, 'unitid': 1, 'address': registerStart, 'quantity': data.length } });\n    } else if (metricId === \"FORECAST_HUMIDITY\") {\n        const registerStart = 12200;\n        node.send({ \"payload\": { value: data.map(x => { return Math.round(x * 100) }), 'fc': 16, 'unitid': 1, 'address': registerStart, 'quantity': data.length } });\n    } else if (metricId === \"FORECAST_UVINDEX\") {\n        const registerStart = 12300;\n        node.send({ \"payload\": { value: data, 'fc': 16, 'unitid': 1, 'address': registerStart, 'quantity': data.length } });\n    } else {\n        throw new Error(\"API data missing\");\n    }\n});\n\nnode.done();",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 890,
            "y": 920,
            "wires": [
                [
                    "g1nns37i6t404ona",
                    "pe17rwtc6g4406vr"
                ]
            ]
        },
        {
            "id": "g1nns37i6t404ona",
            "type": "modbus-flex-write",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo MUV API Data",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "server": "dms7enn3dp7rwtpa",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "",
            "x": 1160,
            "y": 920,
            "wires": [
                [
                    "lm1lroo0uvomtpd0"
                ],
                []
            ]
        },
        {
            "id": "lm1lroo0uvomtpd0",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"MUV_API_COMMUNICATION_ERROR\":false}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 920,
            "wires": [
                [
                    "11lxg6kgit8h7pgc",
                    "96gwacrdf9j9ryxg"
                ]
            ]
        },
        {
            "id": "l765cfn3tkkmh4v3",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "payload",
                    "pt": "msg",
                    "to": "{\"MUV_API_COMMUNICATION_ERROR\":true}",
                    "tot": "json"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1040,
            "wires": [
                [
                    "11lxg6kgit8h7pgc"
                ]
            ]
        },
        {
            "id": "kc2xsdqzmsgnnf4v",
            "type": "catch",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "scope": [
                "ktfhpm897o10w18y",
                "ekb0yfnyqc5dc87e",
                "jdrl6v3lr4l3i2vd"
            ],
            "uncaught": false,
            "x": 530,
            "y": 1000,
            "wires": [
                [
                    "4d167n8syvk2f9nf"
                ]
            ]
        },
        {
            "id": "xh8x1vszh00r73zc",
            "type": "inject",
            "z": "7ca9e00c3f58386e",
            "name": "MUV API interval (Weather)",
            "props": [
                {
                    "p": "payload"
                }
            ],
            "repeat": "1800",
            "crontab": "",
            "once": true,
            "onceDelay": "30",
            "topic": "",
            "payload": "",
            "payloadType": "date",
            "x": 180,
            "y": 920,
            "wires": [
                [
                    "4yuat9f5y3d2ionw"
                ]
            ]
        },
        {
            "id": "pe17rwtc6g4406vr",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "MUV API Data",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1700,
            "y": 840,
            "wires": []
        },
        {
            "id": "zxks5lp5k76h5w0q",
            "type": "modbus-write",
            "z": "7ca9e00c3f58386e",
            "name": "AOP Data to Belimo",
            "showStatusActivities": false,
            "showErrors": true,
            "showWarnings": true,
            "unitid": "1",
            "dataType": "MHoldingRegisters",
            "adr": "10000",
            "quantity": "2",
            "server": "dms7enn3dp7rwtpa",
            "emptyMsgOnFail": false,
            "keepMsgProperties": false,
            "delayOnStart": false,
            "startDelayTime": "",
            "x": 1160,
            "y": 260,
            "wires": [
                [
                    "4wsc9xm0p5ueawcj"
                ],
                []
            ]
        },
        {
            "id": "4wsc9xm0p5ueawcj",
            "type": "debug",
            "z": "7ca9e00c3f58386e",
            "name": "Health State",
            "active": false,
            "tosidebar": true,
            "console": false,
            "tostatus": false,
            "complete": "payload",
            "targetType": "msg",
            "statusVal": "",
            "statusType": "auto",
            "x": 1690,
            "y": 260,
            "wires": []
        },
        {
            "id": "ktb9fdixuonud4c3",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set health values",
            "func": "const filtered = Object.fromEntries(\n    Object.entries(flow.get(\"bridge\").image.metrics).filter(\n        ([key, value]) => key.includes(\"ERROR\") && value === true\n    )\n);\n\nif (Object.keys(filtered).length > 0) {\n    msg.payload = [Math.floor(Math.random() * 10000), 1]\n} else {\n    msg.payload = [Math.floor(Math.random() * 10000), 0]\n}\n\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 470,
            "y": 260,
            "wires": [
                [
                    "zxks5lp5k76h5w0q"
                ]
            ]
        },
        {
            "id": "rt1tn2idh5sjiexs",
            "type": "delay",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "pauseType": "delay",
            "timeout": "10",
            "timeoutUnits": "minutes",
            "rate": "1",
            "nbRateUnits": "1",
            "rateUnits": "second",
            "randomFirst": "1",
            "randomLast": "5",
            "randomUnits": "seconds",
            "drop": false,
            "allowrate": false,
            "outputs": 1,
            "x": 1370,
            "y": 620,
            "wires": [
                [
                    "eki66ulwnryut6l1"
                ]
            ]
        },
        {
            "id": "3mk39d0pils7p1mn",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "reset",
                    "pt": "msg",
                    "to": "true",
                    "tot": "bool"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 580,
            "wires": [
                [
                    "rt1tn2idh5sjiexs"
                ]
            ]
        },
        {
            "id": "96gwacrdf9j9ryxg",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "reset",
                    "pt": "msg",
                    "to": "true",
                    "tot": "bool"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 960,
            "wires": [
                [
                    "4d167n8syvk2f9nf"
                ]
            ]
        },
        {
            "id": "4d167n8syvk2f9nf",
            "type": "delay",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "pauseType": "delay",
            "timeout": "120",
            "timeoutUnits": "minutes",
            "rate": "1",
            "nbRateUnits": "1",
            "rateUnits": "second",
            "randomFirst": "1",
            "randomLast": "5",
            "randomUnits": "seconds",
            "drop": false,
            "allowrate": false,
            "outputs": 1,
            "x": 1370,
            "y": 1000,
            "wires": [
                [
                    "l765cfn3tkkmh4v3"
                ]
            ]
        },
        {
            "id": "y6g2vejqgqc1bdbq",
            "type": "delay",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "pauseType": "delay",
            "timeout": "30",
            "timeoutUnits": "seconds",
            "rate": "1",
            "nbRateUnits": "1",
            "rateUnits": "second",
            "randomFirst": "1",
            "randomLast": "5",
            "randomUnits": "seconds",
            "drop": false,
            "allowrate": false,
            "outputs": 1,
            "x": 1360,
            "y": 1240,
            "wires": [
                [
                    "zioyy5u4giqb6ete"
                ]
            ]
        },
        {
            "id": "v763s065t8l4rtdw",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "reset",
                    "pt": "msg",
                    "to": "true",
                    "tot": "bool"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1200,
            "wires": [
                [
                    "y6g2vejqgqc1bdbq"
                ]
            ]
        },
        {
            "id": "wi45k0z2ewdd8s74",
            "type": "change",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "rules": [
                {
                    "t": "set",
                    "p": "reset",
                    "pt": "msg",
                    "to": "true",
                    "tot": "bool"
                }
            ],
            "action": "",
            "property": "",
            "from": "",
            "to": "",
            "reg": false,
            "x": 1380,
            "y": 1440,
            "wires": [
                [
                    "17ayjydz4nlpu52u"
                ]
            ]
        },
        {
            "id": "17ayjydz4nlpu52u",
            "type": "delay",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "pauseType": "delay",
            "timeout": "30",
            "timeoutUnits": "seconds",
            "rate": "1",
            "nbRateUnits": "1",
            "rateUnits": "second",
            "randomFirst": "1",
            "randomLast": "5",
            "randomUnits": "seconds",
            "drop": false,
            "allowrate": false,
            "outputs": 1,
            "x": 1360,
            "y": 1480,
            "wires": [
                [
                    "ee3zesuxf61jqhll"
                ]
            ]
        },
        {
            "id": "kq4bwv9l60tj71q3",
            "type": "switch",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "property": "error.message",
            "propertyType": "msg",
            "rules": [
                {
                    "t": "neq",
                    "v": "Error: Modbus exception 2: Illegal data address (register not supported by device)",
                    "vt": "str"
                }
            ],
            "checkall": "true",
            "repair": false,
            "outputs": 1,
            "x": 670,
            "y": 1240,
            "wires": [
                [
                    "y6g2vejqgqc1bdbq"
                ]
            ]
        },
        {
            "id": "a8dca9aa835a1f6c",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Build query",
            "func": "const apiKey = env.get('MUV_API_TOKEN');\nconst to_ts = new Date();\nconst from_ts = new Date();\nto_ts.setMinutes(to_ts.getMinutes());\nfrom_ts.setMinutes(to_ts.getMinutes() - 60);\n\nconst body = {\n  \"timestamp\": {\n    \"from\": from_ts,\n    \"to\": to_ts\n  },\n  \"metricId\": [\n    \"A020_133_1141_AAA_Z01Bew01_BV01\",\n    \"A020_133_1141_AAA_Z01Tfq01_AV01\",\n    \"A020_133_1141_AAA_Z01Tfq01_AV02\",\n    \"A020_133_1141_AAA_Z01Tfq01_AV03\",\n    \"A020_133_1141_AAA_Z01Tfq02_AV01\",\n    \"A020_133_1141_AAA_Z01Tfq02_AV02\",\n    \"A020_133_1141_AAA_Z01Tfq02_AV03\",\n    \"A020_133_1141_AAA_Z01Tfq03_AV01\",\n    \"A020_133_1141_AAA_Z01Tfq03_AV02\",\n    \"A020_133_1141_AAA_Z01Tfq03_AV03\"\n  ],\n  \"limit\": 100,\n  \"skip\": 0\n}\n\nmsg.apiKey = apiKey;\nmsg.payload = body;\n\nreturn msg;",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 430,
            "y": 800,
            "wires": [
                [
                    "c164686f1436b09e"
                ]
            ]
        },
        {
            "id": "c164686f1436b09e",
            "type": "http request",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "method": "POST",
            "ret": "txt",
            "paytoqs": "ignore",
            "url": "https://api.muv.digital/v1/query/68d23ed2115f2fa209181001/raw",
            "tls": "",
            "persist": false,
            "proxy": "",
            "insecureHTTPParser": false,
            "authType": "",
            "senderr": false,
            "headers": [
                {
                    "keyType": "other",
                    "keyValue": "accept",
                    "valueType": "other",
                    "valueValue": "application/json"
                },
                {
                    "keyType": "other",
                    "keyValue": "x-api-key",
                    "valueType": "msg",
                    "valueValue": "apiKey"
                }
            ],
            "x": 590,
            "y": 800,
            "wires": [
                [
                    "13c418f5f2d55ba5"
                ]
            ]
        },
        {
            "id": "13c418f5f2d55ba5",
            "type": "json",
            "z": "7ca9e00c3f58386e",
            "name": "",
            "property": "payload",
            "action": "",
            "pretty": false,
            "x": 730,
            "y": 800,
            "wires": [
                [
                    "4fafed1d7240afb8"
                ]
            ]
        },
        {
            "id": "4fafed1d7240afb8",
            "type": "function",
            "z": "7ca9e00c3f58386e",
            "name": "Set Modbus data",
            "func": "msg.payload.results.forEach(metric => {\n    const data = metric.timeseries.map(object => { return object.value }).pop();\n    const metricId = metric.metricId;\n    if (metricId === \"A020_133_1141_AAA_Z01Bew01_BV01\") {\n        const registerStart = 13000;\n        node.send({ \"payload\": { value: Math.round(data * 1) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1 } });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq01_AV01\") {\n        const registerStart = 13001;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq01_AV02\") {\n        const registerStart = 13002;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq01_AV03\") {\n        const registerStart = 13003;\n        node.send({ \"payload\": { value: Math.round(data * 1) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq02_AV01\") {\n        const registerStart = 13004;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq02_AV02\") {\n        const registerStart = 13005;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq02_AV03\") {\n        const registerStart = 13006;\n        node.send({ \"payload\": { value: Math.round(data * 1) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq03_AV01\") {\n        const registerStart = 13007;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq03_AV02\") {\n        const registerStart = 13008;\n        node.send({ \"payload\": { value: Math.round(data * 100) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    } else if (metricId === \"A020_133_1141_AAA_Z01Tfq03_AV03\") {\n        const registerStart = 13009;\n        node.send({ \"payload\": { value: Math.round(data * 1) , 'fc': 6, 'unitid': 1, 'address': registerStart, 'quantity': 1} });\n    }\n});\n\nnode.done();",
            "outputs": 1,
            "timeout": 0,
            "noerr": 0,
            "initialize": "",
            "finalize": "",
            "libs": [],
            "x": 890,
            "y": 800,
            "wires": [
                [
                    "g1nns37i6t404ona",
                    "pe17rwtc6g4406vr"
                ]
            ]
        },
        {
            "id": "4ecd18eca38ee6ec",
            "type": "inject",
            "z": "7ca9e00c3f58386e",
            "name": "MUV API interval (Monzoon)",
            "props": [
                {
                    "p": "payload"
                }
            ],
            "repeat": "600",
            "crontab": "",
            "once": true,
            "onceDelay": "30",
            "topic": "",
            "payload": "",
            "payloadType": "date",
            "x": 210,
            "y": 800,
            "wires": [
                [
                    "a8dca9aa835a1f6c"
                ]
            ]
        }
    ],
    "configs": [
        {
            "id": "dms7enn3dp7rwtpa",
            "type": "modbus-client",
            "z": "7ca9e00c3f58386e",
            "name": "Belimo",
            "clienttype": "tcp",
            "bufferCommands": true,
            "stateLogEnabled": false,
            "queueLogEnabled": false,
            "failureLogEnabled": true,
            "tcpHost": "192.168.1.61",
            "tcpPort": "502",
            "tcpType": "DEFAULT",
            "serialPort": "/dev/ttyUSB",
            "serialType": "RTU-BUFFERD",
            "serialBaudrate": "9600",
            "serialDatabits": "8",
            "serialStopbits": "1",
            "serialParity": "none",
            "serialConnectionDelay": "100",
            "serialAsciiResponseStartDelimiter": "0x3A",
            "unit_id": 1,
            "commandDelay": 100,
            "clientTimeout": 1000,
            "reconnectOnTimeout": true,
            "reconnectTimeout": 2000,
            "parallelUnitIdsAllowed": true,
            "showErrors": true,
            "showWarnings": true,
            "showLogs": true
        },
        {
            "id": "ax8al96z8cizgl4x",
            "type": "modbus-client",
            "z": "7ca9e00c3f58386e",
            "name": "Beckhoff",
            "clienttype": "tcp",
            "bufferCommands": true,
            "stateLogEnabled": false,
            "queueLogEnabled": false,
            "failureLogEnabled": true,
            "tcpHost": "192.168.1.50",
            "tcpPort": "502",
            "tcpType": "DEFAULT",
            "serialPort": "/dev/ttyUSB",
            "serialType": "RTU-BUFFERD",
            "serialBaudrate": "9600",
            "serialDatabits": "8",
            "serialStopbits": "1",
            "serialParity": "none",
            "serialConnectionDelay": "100",
            "serialAsciiResponseStartDelimiter": "0x3A",
            "unit_id": 1,
            "commandDelay": 100,
            "clientTimeout": 1000,
            "reconnectOnTimeout": true,
            "reconnectTimeout": 2000,
            "parallelUnitIdsAllowed": true,
            "showErrors": true,
            "showWarnings": true,
            "showLogs": true
        }
    ]
}